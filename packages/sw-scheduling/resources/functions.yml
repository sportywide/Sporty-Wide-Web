test:
    handler: src/lambda/test.handler
    events:
        - http:
              cors: true
              path: test
              method: get

fetch-teams:
    handler: src/lambda/crawl/fetch-teams.handler
    events:
        - http:
              cors: true
              path: teams
              method: get

fetch-players:
    handler: src/lambda/crawl/fetch-players.handler
    events:
        - sns: arn:aws:sns:ap-southeast-2:409050499179:FifaTeamSns

fetch-fixtures:
    handler: src/lambda/crawl/fetch-fixture.handler
    events:
        - sns: arn:aws:sns:ap-southeast-2:409050499179:FifaTeamSns

save-teams:
    handler: src/lambda/persist/save-teams.handler
    events:
        - s3:
              bucket: sw-data-bucket
              event: s3:ObjectCreated:*
              rules:
                  - prefix: teams/fifa/
                  - suffix: .json

save-players:
    handler: src/lambda/persist/save-players.handler
    events:
        - s3:
              bucket: sw-data-bucket
              event: s3:ObjectCreated:*
              rules:
                  - prefix: players/fifa/
                  - suffix: .json

save-fixtures:
    handler: src/lambda/persist/save-fixture.handler
    events:
        - s3:
              bucket: sw-data-bucket
              event: s3:ObjectCreated:*
              rules:
                  - prefix: fixtures
                  - suffix: .json
